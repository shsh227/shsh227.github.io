<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link href="/static/styles.css" rel="stylesheet">
    <title>Good News of the Week</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        document.addEventListener("DOMContentLoaded", function() {
                const articles = document.querySelectorAll('.article');
                
                let startingIndex = 0;
                
                function showarticle(index) {
                    articles.forEach(article => {
                        article.classList.remove('active');
                    });

                    articles[index].classList.add('active');
                }

                function shownextarticle() {
                    startingIndex++;

                    if (startingIndex >= articles.length) {
                        startingIndex = 0;
                    }

                    showarticle(startingIndex);
                }

                showarticle(startingIndex);

                setInterval(shownextarticle, 14000);

                const fullscreen = document.getElementById("fullscreen");
                const exitfullscreen = document.getElementById("exitfullscreen");

                fullscreen.addEventListener("click", function() {
                    document.documentElement.requestFullscreen();
                    fullscreen.style.display = "none";
                    exitfullscreen.style.display = "block";
                })

                exitfullscreen.addEventListener("click", function() {
                    if (document.fullscreenElement) {
                        document.exitFullscreen();
                        fullscreen.style.display = "block";
                        exitfullscreen.style.display = "none";
                    }
                })

                document.addEventListener("fullscreenchange", function() {
                    if (document.fullscreenElement) {
                        fullscreen.style.display = "none";
                        exitfullscreen.style.display = "block"; 
                    }
                    else {
                        fullscreen.style.display = "block";
                        exitfullscreen.style.display = "none";
                    }
                })
        })

    </script>
</head>
<body>
    <div id = "top" style = "background-color: rgb(75, 117, 255); text-align: center; padding: 9px;">
        <p id = "disclaimer" style = "color: red; background-color: white;">
            <b>
                [DISCLAIMER] This website is not the <a href="https://goodnews.eu/en/good-news/" style="color: red; text-decoration: underline;">original website</a>.
                It solely is a final coding project for the CS50 Introduction to Computer Science course.
            </b>
        </p>
        <h1 style = "color: white;" class = "distance">This week's daily dosis of optimism</h1>
    </div>
    <button id = "fullscreen">Full Screen</button>
    <button id = "exitfullscreen">Exit Full Screen</button>
    <img id = "logo" src="/static/OIP (1).jpg" alt = "Logo">
    <div class  = "news">
        {% for article in articles %}
            <div class = "article">
                <div class = "article-box">
                    <img class = "img" src="{{ article.img }}" alt="News Image">
                    <div class = "text">
                        <p class = "title">{{ article.title }}</p>
                        <p class = "summary">{{ article.summary }}</p>
                        <p class = "summary">[{{ article.date }}]</p>
                    </div>
                </div>
            </div>
        {% else %}
            <p>No news found for this month.</p>
        {% endfor %}
    </div>
    <footer>
        Goodnews is a platform for positive journalism.
        Feel free to <a href ="https://goodnews.eu/en/donate/" style="color: rgb(3, 3, 106);">support</a> and
        <a href="https://goodnews.eu/en/good-news/" style="color: rgb(3, 3, 106);">visit the website</a>! And...smile :)
    </footer>
</body>
</html>
